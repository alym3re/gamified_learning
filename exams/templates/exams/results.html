{% extends "base.html" %}
{% block content %}
<h2>Exam Results</h2>
<h3>{{ exam.title }}</h3>
<p>Score: {{ attempt.score }} | Passed: {% if attempt.passed %}✔{% else %}✘{% endif %}</p>
<table class="table">
  <thead>
    <tr>
      <th>Question</th>
      <th>Your Answer</th>
      <th>Correct?</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    {% for user_answer in user_answers %}
    <tr>
      <td>{{ user_answer.question.text }}</td>
      <td>
        {% if user_answer.text_answer %}
          {{ user_answer.text_answer }}
        {% else %}
          {% for ans in user_answer.selected_answers.all %}
            {{ ans.text }}<br>
          {% endfor %}
        {% endif %}
      </td>
      <td>{% if user_answer.is_correct %}✔{% else %}✘{% endif %}</td>
      <td>{{ user_answer.question.explanation }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a href="{% url 'exams:grading_period_exam_list' %}" class="btn btn-link">Back to Exams</a>
{% endblock %}